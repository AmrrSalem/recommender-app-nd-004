# Basic Recommender System

## 📌 Overview

This project showcases a **basic recommender system** built with **FastAPI** and **FastHTML**.
It brings together multiple recommendation techniques in one place and provides an interactive web interface for testing and evaluation.

The implemented methods include:

1. **Rank-based (Popularity)** – recommends the most popular items.
2. **User–User Collaborative Filtering (CF)** – recommends items by finding similar users.
3. **Content-based (TF-IDF + Clustering)** – recommends items based on content similarity.
4. **Matrix Factorization (SVD)** – discovers hidden factors in user–item interactions.
5. **Offline Evaluation** – compare models using:

   * Precision\@k, Recall\@k, F1\@k
   * MAP\@k, NDCG\@k
   * Item Coverage

## 📂 Input Data

The system only needs one input file:

```
data/interactions.csv
```

Minimum required columns:

* `user_id` (or `email` → automatically converted to `user_id`)
* `article_id`
* `title` (optional, autogenerated if missing)

Any additional files are created internally (e.g., articles list is generated in memory).

## ⚙️ Installation

### Option 1: Install from GitHub

```bash
git clone https://github.com/AmrSalem/recommender-app-nd-004.git
cd recommender-app-nd-004
python -m venv .venv
source .venv/bin/activate      # Linux / Mac
.venv\Scripts\activate         # Windows
pip install --upgrade pip setuptools wheel
pip install -r requirements.txt
```

### Option 2: Manual setup

1. Create and activate a virtual environment

   ```bash
   python -m venv .venv
   source .venv/bin/activate      # Linux / Mac
   .venv\Scripts\activate         # Windows
   ```

2. Upgrade pip and tools

   ```bash
   python -m pip install --upgrade pip setuptools wheel
   ```

3. Install dependencies

   ```bash
   pip install -r requirements.txt
   ```

> **Note:** `python-fasthtml==0.4.3` is optional. If it fails to install, comment it out in `requirements.txt`. The app will then use a built-in HTML renderer.

## 🚀 Running the App

1. Make sure your data file exists:

   ```
   data/interactions.csv
   ```

2. Start the server:

   ```bash
   python -m uvicorn app:app --reload
   ```

3. Open your browser:
   [http://127.0.0.1:8000](http://127.0.0.1:8000)

## ✨ Features

### 👤 User Recommendations

* Input a `user_id` and number of items (`n`)
* Returns recommendations using **Collaborative Filtering**
* Falls back to **Popularity** when data is insufficient

### 📚 Article Recommendations

* Input an `article_id` and number of items (`n`)
* Returns **Content-based (TF-IDF similarity)** and **SVD-based** recommendations

### 📊 Evaluation

* Perform offline evaluation (leave-one-out, sampled users)
* Reports:

  * Precision\@k, Recall\@k, F1\@k
  * MAP\@k, NDCG\@k
  * Item Coverage

## ✅ Project Requirements

This project satisfies the following:

* Implementations of Rank-based, CF, Content-based, and SVD recommenders
* Cold-start fallback to popularity
* Evaluation metrics exposed via `/eval` endpoint and web UI
* Web interface built with FastAPI + FastHTML (with fallback support)

## 🌱 Optional Extensions

* Package the system as a pip-installable library
* Expand content-based recommendations with advanced NLP techniques

## 📚 References

* [FastAPI Documentation](https://fastapi.tiangolo.com/)
* [Scikit-learn User Guide](https://scikit-learn.org/stable/user_guide.html)
* [Surprise: A Python scikit for recommender systems](http://surpriselib.com/)
* [FastHTML Repository](https://github.com/pydantic/FastHTML)
